<html>
<nav class="navbar navbar-expand-lg bg-body-tertiary contain">
  <a id="logo" class="navbar-brand logo light" href="https://habilihsanproject.github.io/">
    <img src="/-assets/logo.png" />
    <img style="width: 50px;" src="/-assets/title.png" />
  </a>
  <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
    aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbarNav">
    <ul class="navbar-nav" id="navbarList">
    </ul>
    <button onclick="setTheme()" class="theme">
      <span id="setTheme" class="mdi mdi-weather-night"></span>
    </button>
  </div>
</nav>

</html>

<script src="/-plugins/firebase.js" type="module"></script>
<script type="module">
  import { ref, child, get } from "https://www.gstatic.com/firebasejs/9.18.0/firebase-database.js"
  import { database } from "../-plugins/firebase.js"
  const navbar = ref(database)
  get(child(navbar, "navbar")).then((snapshot) => {
    if (snapshot.exists()) {

      let navbar_list = snapshot.val()
  console.log(navbar_list)
  let navbarList = document.querySelector("#navbarList")
  let navbarLink = document.getElementById("navbarLink")
  const navbar = data => {
    const template = document.createElement("template")
    template.innerHTML =
      `<li class="nav-item navItem" id="navbarItem">
      <a class="nav-link" id="navbarLink${navbar_list[i].title}" aria-current="page" href="${navbar_list[i].to}">${navbar_list[i].title}</a>
      </li>`
        .trim()
    return template.content.firstChild
  }
  for (let i in navbar_list) {
    navbarList.append(navbar(0))
  }
  let title = document.getElementsByTagName("title")[0]
  document.getElementById(`navbarLink${title.innerText}`).classList.add("active")
  title.innerHTML = `habilihsanproject | ${title.innerText}`

    } else {
      console.log("No data available")
    }
  }).catch((error) => {
    console.error(error)
  })
</script>

<style>
  .contain {
    display: flex;
    align-items: center;
    justify-content: space-between;
    --bs-gutter-x: 1.5rem;
    --bs-gutter-y: 0;
    width: 100%;
    padding-right: calc(var(--bs-gutter-x) * .5);
    padding-left: calc(var(--bs-gutter-x) * .5);
    margin-right: auto;
    margin-left: auto;
  }
</style>